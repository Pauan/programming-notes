.FS.nu
[source]
----
(USE {} = "nulan:Task")
(USE {} = "nulan:Stream")

(TYPE Stat)

(EXPORT { read-file = read_file
          write-file! = write_file
          rename-file! = rename_file
          symlink!
          real-path = real_path
          remove-file! = remove_file
          remove-directory! = remove_directory
          make-directory! = make_directory
          files-from-directory = files_from_directory
          files-from-directory-recursive = files_from_directory_recursive }

  (FFI-IMPORT "FS"
    (read_file :: (-> String (Task (Stream String))))

    (write_file :: (-> String (Task (Stream String))))

    (rename_file :: (-> String String (Task Void)))

    #(is_directory :: (-> String (Task Boolean)))

    (stat_file :: (-> String (Task Stat)))

    (symlink :: (-> String String (Task Void)))

    (real_path :: (-> String (Task String)))

    (remove_file :: (-> String (Task Void)))

    (remove_directory :: (-> String (Task Void)))

    (make_directory :: (-> String (Task Void)))

    (files_from_directory :: (-> String (Task (List String))))

    (files_from_directory_recursive :: (-> String (Task (List String))))))

(FUNCTION
  (copy-file! :: (-> String String (Task Void)))
  (copy-file! from to)
    (pipe (read-file from)
          (write-file! to)))
----
